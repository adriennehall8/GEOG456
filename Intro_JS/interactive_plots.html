<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Plot with Plotly.JS</title>
    <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
</head>
<style >
    body {background-color: rgb(242,242,242);}
</style>

<body>

    <div id="myDiv"></div>
    <button onclick="myFunction()">Change Chart Type</button>

    
    <script src="./data/healthfin15.json"></script>
    <script>

        myFunction = function(){
            // i didn't know how to change the chart type for multiple traces at once so I limited my data to just one trace
            console.log(data[0].type + " to ")
            if (data[0].type == "bar") {data[0].type = 'scatter'}
            else (data[0].type = 'bar')
            Plotly.newPlot('myDiv', data, layout);
            console.log(data[0].type)
        }

        var trace = {
            x: hlthfin2015.iso3,
            y: hlthfin2015.health_spending_pp,
            mode: 'markers',
            type: 'bar',
            name: '2015',
            text: hlthfin2015.location,
            textfont: {family:'Georgia, serif'},
            marker: {color: '#8D07F6'},
        };

        var data = [trace];
        var layout = {
            title:'Country Health Spending Per Person (2015)',
            height: 700,
            legend: {
                font: {
                    family: 'Georgia, serif',
                    size: 24,
                    color: 'black',
            }
        },
        paper_bgcolor: '#D4DBF5',
        plot_bgcolor: '#D4DBF5'
        };
        var config = {responsive: true}
        Plotly.newPlot('myDiv', data, layout, config);
    </script>
</body>
</html>